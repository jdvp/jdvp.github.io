<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>animosaic</title>
        <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon">
        <link rel="stylesheet" href="css/animosaic.css">
        <script src="animosaic.js"></script>
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-177822938-1"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

          gtag('config', 'UA-177822938-1');
        </script>
    </head>
    <body>
        <div class="animosaic-content">
            <div class="animosaic-header">
                <h1>animosaic</h1>
            </div>
            <div class="animosaic-prompt-overlay" onclick="$('.animosaic-prompt').hide(); $('.animosaic-prompt-overlay').hide();"></div>
            <div class="animosaic-prompt">
                <div class="animosaic-prompt-image">
                    <img src="mascot.webp">
                </div>
                <div class="animosaic-form">
                    <div class="animosaic-form-text">
                        <h4>Create an animosaic</h4>
                        <p>
                            Create a mosaic consisting of anime you have watched! To get started, enter a MyAnimeList
                            account and an image for which you want to create an Animosaic!
                        </p>
                        <p>
                            The image processing is done in your browser and never uploaded to any servers. Make sure
                            the anime list you are checking has a lot of anime for the best results!
                        </p>
                    </div>
                    <form class="animosaic-form-form" onsubmit=" $('.animosaic-prompt').hide(); $('.animosaic-prompt-overlay').hide(); animosaic.createMosaic(); return false" autocomplete="off">
                        <input type="text" id="usernameInput" placeholder="MyAnimeList Username (not required)"/>
                        <br>
                        <input class="animosaic-form-file-input" type="file" id="imageInput" accept="image/*" required>
                        <label for="imageInput">Choose an image</label>
                        <br>
                        <button class="animosaic-button" type="submit">Create Mosaic</button>
                    </form>
                </div>
            </div>

            <div class="animosaic-mosaic-controls">
                <div class="rowholder" ondragstart=return!1 ondrop=return!1"></div>
                <div class="bottom-control">
                    <div class="control-row">
                        <p>Magnification</p>
                    </div>
                    <div class="control-row">
                        <p class="magnifier-hints">-&nbsp;&nbsp;&nbsp;&nbsp;</p>
                        <div id="slider-horizontal"></div>
                        <p class="magnifier-hints">&nbsp;&nbsp;&nbsp;&nbsp;+</p>
                    </div>
                    <div class="control-row" style="height:22px;"></div>
                    <div class="control-row">
                        <button class="animosaic-control-button" onclick="$('.animosaic-prompt').show(); $('.animosaic-prompt-overlay').show();">Another!</button>
                        <button class="animosaic-control-button" id="export-button" data-toggle="modal" data-target="#myModal">Export as png</button>
                    </div>
                </div>
            </div>
            <div id="imageItem"></div>
            <div class="animosaic-footer">
                <p><a href="https://forms.gle/SfZLfYVxKVJvZf4A8" target="_blank">Feedback</a></p>
                <p class="magnifier-hints">&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;</p>
                <p><a href="https://jdvp.me" target="_blank">Author</a></p>
                <p class="magnifier-hints">&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;</p>
                <p><a href="privacy/index.html" target="_blank">Privacy Policy</a></p>
                <p class="magnifier-hints">&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;</p>
                <p>&copy; 2020</p>
            </div>
            <div class="modal fade" id="myModal">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">

                        <!-- Modal Header -->
                        <div class="modal-header">
                            <h4 class="modal-title">Export Mosaic</h4>
                        </div>

                        <!-- Modal body -->
                        <div class="modal-body">
                            <div class="animosaic-form-text">
                                <p>
                                    Please enter the width that you would like for the exported image. Note that larger
                                    images will take longer to process. The max supported width is 8,192, but note
                                    that some mobile browsers might not work well with even that limit.
                                </p>
                            </div>
                            <form class="animosaic-form-form" onsubmit="$('#myModal').modal('hide'); printImage(); return false" autocomplete="off">
                                <input type="number" id="width-input" placeholder="Desired width" min="0" max="8192" required/>
                                <br>
                                <button class="animosaic-button" type="submit">Export</button>
                            </form>

                        </div>
                    </div>
                </div>
            </div>



            <div class="modal fade" id="loadingModal">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-body">
                            <div class="spinner-border text-primary"></div>
                            <p id="loadingModalText"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>